{{define "content"}}
<div class="collection-container">

    <header class="collection-header">
        {{if .Collection.IsTopic}}
        <nav class="collection-breadcrumb">
            <a href="/docs">Documentation</a>
            <span class="breadcrumb-sep">/</span>
            <span>{{.Collection.Name}}</span>
        </nav>
        <div class="collection-title-row">
            {{if .Collection.Icon}}
            <div class="collection-icon-wrapper">
                <img src="{{.Collection.Icon}}" alt="" class="collection-icon" />
            </div>
            {{end}}
            <h1>{{.Collection.Name}}</h1>
        </div>
        {{else}}
        <div class="collection-title-row">
            <h1>{{.Collection.Name}}</h1>
            {{if .Collection.IsSeries}}
            <div class="collection-sort">
                <label for="sort-select" class="sort-label">Sort:</label>
                <select id="sort-select" class="sort-select">
                    <option value="newest">Newest first</option>
                    <option value="oldest">Oldest first</option>
                    <option value="updated">Recently updated</option>
                </select>
            </div>
            {{end}}
        </div>
        {{end}}
        {{if .Collection.Description}}
        <p class="collection-description">{{.Collection.Description}}</p>
        {{end}}
    </header>

    {{if .Collection.IsBlog}}
    {{/* Blog layout: chronological with dates (Series) */}}
    <div class="posts-list posts-list-blog">
        {{range .Collection.Posts}}
        <article class="post-card" data-date="{{.Date.Unix}}" data-updated="{{if not .Updated.IsZero}}{{.Updated.Unix}}{{else}}{{.Date.Unix}}{{end}}">
            <h2 class="post-card-title"><a href="{{.URL}}">{{.Title}}</a></h2>
            {{if .Description}}
            <p class="post-description">{{.Description}}</p>
            {{end}}
            <div class="post-meta">
                <time datetime="{{.Date.Format "2006-01-02"}}">{{.Date.Format "January 2, 2006"}}</time>
                {{if not .Updated.IsZero}}
                <span class="post-updated">Â· Updated {{.Updated.Format "January 2, 2006"}}</span>
                {{end}}
            </div>
        </article>
        {{end}}

        {{if not .Collection.Posts}}
        <p class="no-posts">No posts in this series yet.</p>
        {{end}}
    </div>
    {{else}}
    {{/* Docs layout: ordered chapters (Topics) */}}
    <nav class="docs-nav">
        <ol class="docs-list">
            {{range .Collection.Posts}}
            <li class="docs-item">
                <a href="{{.URL}}" class="docs-link">
                    <span class="docs-title">{{.Title}}</span>
                    <span class="docs-description">{{.Description}}</span>
                </a>
            </li>
            {{end}}
        </ol>

        {{if not .Collection.Posts}}
        <p class="no-posts">No documentation yet.</p>
        {{end}}
    </nav>
    {{end}}
</div>
{{end}}
